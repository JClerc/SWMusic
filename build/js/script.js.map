{"version":3,"sources":["script.js","app.js","canvas.polyfill.js","selector.js","episodeSelection.js","hyperspace.js","navigation.js","main.js"],"names":["App","lastTime","vendors","x","length","window","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","$","document","querySelector","bind","$$","querySelectorAll","EPISODE_SELECTION","lastMove","leftOffset","screen","width","rightOffset","screenScale","selectCards","percentDivisor","TOGGLE_SELECTION_LISTENER","event","now","percent","screenX","style","transform","toggleSelection","state","addEventListener","removeEventListener","GLOBAL_SPEED","HYPERSPACE","canvas","innerWidth","height","innerHeight","getContext","context","starsCount","stars","createStar","randomX","random","randomY","color","y","xs","ys","size","i","push","loop","clearRect","s","strokeStyle","lineWidth","shadowBlur","lineCap","shadowColor","beginPath","moveTo","lineTo","stroke","identifier","gotoUp","current","next","direction","Error","classList","remove","add","animationend","e","setLocation","home","location","href","gotoHash","homeFallback","hash","page","substring","contains","interval","setInterval","clearInterval","select","begin","bindNavigation","this","getAttribute","preventDefault","elements","console","log"],"mappings":"AAAA,YCKA,IAAIA,SCJJ,WAGI,IAAI,GAFAC,GAAW,EACXC,GAAW,SAAU,OACjBC,EAAI,EAAGA,EAAID,EAAQE,SAAWC,OAAOC,wBAAyBH,EAClEE,OAAOC,sBAAwBD,OAAOH,EAAQC,GAAG,yBACjDE,OAAOE,qBACLF,OAAOH,EAAQC,GAAG,yBAA2BE,OAAOH,EAAQC,GAAG,8BAGhEE,QAAOC,wBACRD,OAAOC,sBAAwB,SAASE,EAAUC,GAC9C,GAAIC,IAAW,GAAIC,OAAOC,UACtBC,EAAaC,KAAKC,IAAI,EAAG,IAAML,EAAWT,IAC1Ce,EAAKX,OAAOY,WAAW,WAAaT,EAASE,EAAWG,IAC1DA,EAEF,OADAZ,GAAWS,EAAWG,EACfG,IAGVX,OAAOE,uBACRF,OAAOE,qBAAuB,SAASS,GACnCE,aAAaF,OCrBzB,IAAIG,GAAIC,SAASC,cAAcC,KAAKF,UAChCG,GAAKH,SAASI,iBAAiBF,KAAKF,SCDxCf,QAAOoB,mBACHC,SAAU,EACVC,WAAYtB,OAAOuB,OAAOC,MAAQ,EAAI,IACtCC,YAAa,EACbC,YAAc,IAAM,IAAM,KAC1BC,YAAab,EAAE,mBAGnBd,OAAOoB,kBAAkBQ,eAAiB5B,OAAOuB,OAAOC,MAAQxB,OAAOoB,kBAAkBK,YAAczB,OAAOoB,kBAAkBE,WAEhItB,OAAO6B,0BAA4B,SAASC,GACxC,GAAIC,IAAM,GAAIzB,OAAOC,SACrB,IAAIP,OAAOoB,kBAAkBC,SAAWU,EAAM,GAAI,CAE9C/B,OAAOoB,kBAAkBC,SAAWU,CACpC,IAAIC,IAAWF,EAAMG,QAAUjC,OAAOoB,kBAAkBE,YAActB,OAAOoB,kBAAkBQ,cAEjF,GAAVI,EACAA,EAAU,EACHA,EAAU,IACjBA,EAAU,GAGdhC,OAAOoB,kBAAkBO,YAAYO,MAAMC,UAAY,6BAA+BH,EAAUhC,OAAOoB,kBAAkBM,YAAc,OAI/I/B,IAAIyC,gBAAkB,SAASC,GACvBA,EACAtB,SAASuB,iBAAiB,YAAatC,OAAO6B,2BAE9Cd,SAASwB,oBAAoB,YAAavC,OAAO6B,4BC/BzD7B,OAAOwC,aAAe,GACtBxC,OAAOyC,YAAa,EAEpB,SAAWC,GAKP,GAHAA,EAAOlB,MAAQxB,OAAO2C,WACtBD,EAAOE,OAAS5C,OAAO6C,YAEnBH,EAAOI,WAAY,CAyBnB,IAAK,GAxBDC,GAAUL,EAAOI,WAAW,MAC5BtB,EAAQkB,EAAOlB,MACfoB,EAASF,EAAOE,OAChBI,EAAa,IAEbjD,EAAS,GACTkD,KAEAC,EAAa,WACb,GAAIC,GAAU1C,KAAK2C,SACfC,EAAU5C,KAAK2C,SACfE,KAA2B,GAAhB7C,KAAK2C,SAAgB,GAEpC,QACItD,EAAGqD,EAAU3B,EACb+B,EAAGF,EAAUT,EACbY,IAAKL,EAAU3B,EAAQA,EAAM,GAAK,IAClCiC,IAAKJ,EAAUT,EAASA,EAAO,GAAK,IACpCc,QAASJ,EAAQ,IACjBvD,OAAQU,KAAK2C,SAAWrD,EACxBuD,MAAO,OAASA,EAAQ,KAAOA,EAAQ,QAAUA,EAAwB,GAAhB7C,KAAK2C,UAAiB,MAI9EO,EAAI,EAAOX,EAAJW,EAAgBA,IAC5BV,EAAMW,KAAKV,MAGf,QAAUW,KACN,GAAI7D,OAAOyC,WAAY,CAEnBzC,OAAOC,sBAAsB4D,GAC7Bd,EAAQe,UAAU,EAAG,EAAGtC,EAAOoB,EAE/B,KAAK,GAAIe,GAAI,EAAOX,EAAJW,EAAgBA,IAAK,CACjC,GAAII,GAAId,EAAMU,IACVI,EAAEjE,EAAI,GAAKiE,EAAER,EAAI,GAAKQ,EAAEjE,EAAI0B,GAASuC,EAAER,EAAIX,KAC3CmB,EAAId,EAAMU,GAAKT,KAEnBH,EAAQiB,YAAcD,EAAET,MACxBP,EAAQkB,UAAYF,EAAEL,KACtBX,EAAQmB,WAAa,EACrBnB,EAAQoB,QAAU,QAClBpB,EAAQqB,YAAc,OACtBrB,EAAQsB,YACRtB,EAAQuB,OAAOP,EAAEjE,EAAGiE,EAAER,GACtBR,EAAQwB,OAAOR,EAAEjE,EAAI,GAAMiE,EAAEhE,OAASgE,EAAEP,GAAKxD,OAAOwC,aAAcuB,EAAER,EAAIQ,EAAEhE,OAASgE,EAAEN,GAAKzD,OAAOwC,cACjGO,EAAQyB,SACRT,EAAEjE,GAAKiE,EAAEP,GAAKxD,OAAOwC,aACrBuB,EAAER,GAAKQ,EAAEN,GAAKzD,OAAOwC,oBAMtC1B,EAAE,gBC5DLnB,IAAAA,QAAW,SAAU8E,EAAYC,GAC7B,GAAIC,GAAU7D,EAAE,mBACZ8D,EAAO9D,EAAE,SAAW2D,GACpBI,EAAYH,EAAS,KAAO,MAEhC,KAAKE,GAA0B,iBAAXF,GAChB,KAAM,IAAII,OAAM,oBAAsBF,EAAO,KAAOF,EACjD,IAAIC,GAAWC,EAClB,KAAM,IAAIE,OAAM,4BAEhBnF,KAAIyC,gBAA+B,WAAfqC,GAChBE,IACAA,EAAQI,UAAUC,OAAO,WACzBL,EAAQI,UAAUE,IAAI,QAAUJ,GAChCF,EAAQrC,iBAAiB,eAAgB,QAAS4C,GAAaC,GAC3DR,EAAQpC,oBAAoB,eAAgB2C,GAC5CP,EAAQI,UAAUC,OAAO,QAAUH,MAG3CD,EAAKG,UAAUE,IAAI,WACnBL,EAAKG,UAAUE,IAAI,SAAWJ,GAC9BD,EAAKtC,iBAAiB,eAAgB,QAAS4C,GAAaC,GACxDP,EAAKrC,oBAAoB,eAAgB2C,GACzCN,EAAKG,UAAUC,OAAO,SAAWH,GACjClF,IAAIyF,YAAYX,MAK5B9E,IAAI0F,KAAO,WAEPrF,OAAOsF,SAASC,KAAOvF,OAAOsF,SAASC,MAG3C5F,IAAI6F,SAAW,SAAUC,GACrB,GAAIzF,OAAOsF,SAASI,MAAQ1F,OAAOsF,SAASI,KAAK3F,OAAS,EAAG,CACzD,GAAI4F,GAAO7E,EAAE,SAAWd,OAAOsF,SAASI,KAAKE,UAAU,GACvD,IAAID,GAAQA,EAAKZ,UAAUc,SAAS,QAAS,CACzC,GAAIlB,GAAU7D,EAAE,kBAKhB,OAJI6D,IAASA,EAAQI,UAAUC,OAAO,WACtCW,EAAKZ,UAAUE,IAAI,WACnBtF,IAAIyC,gBAAgBuD,EAAKZ,UAAUc,SAAS,gBAC5C7F,OAAOyC,YAAa,IAIxBgD,GACA9F,IAAI0F,QAIZ1F,IAAIyF,YAAc,SAAUM,GACxB1F,OAAOsF,SAASI,KAAO,KAAOA,GAChC5E,EAGA,UAAUwB,iBAAiB,QAAS,SAAU6C,GAC5CtD,0BAA0BsD,EAC1B,IAAIW,GAAWC,YAAY,WACvB/F,OAAOwC,aAA6C,KAA7BxC,OAAOwC,aAAe,IACzCxC,OAAOwC,aAAe,IACtBwD,cAAcF,IAEnB,KACCT,EAAOvE,EAAE,cACTmF,EAASnF,EAAE,eACfmF,GAAO3D,iBAAiB,eAAgB,QAAS4D,GAAMf,GACnDc,EAAO1D,oBAAoB,eAAgB2D,GAC3ClG,OAAOyC,YAAa,EACpB4C,EAAKN,UAAUC,OAAO,WACtBK,EAAKN,UAAUC,OAAO,mBACtBiB,EAAOlB,UAAUE,IAAI,WACrBgB,EAAOlB,UAAUC,OAAO,oBACxBrF,IAAIyF,YAAY,YAEpBC,EAAKN,UAAUE,IAAI,mBACnBgB,EAAOlB,UAAUE,IAAI,oBACrBtF,IAAIyC,iBAAgB,IAYxB,KAAK,GARD+D,gBAAiB,SAAU/F,GAC3BA,EAAQkC,iBAAiB,QAAS,SAAU6C,GACxCxF,IAAAA,QAASyG,KAAKC,aAAa,eAAwD,OAAxCD,KAAKC,aAAa,mBAC7DlB,EAAEmB,oBAINC,SAAWrF,GAAG,eACTyC,EAAI4C,SAASxG,OAAS,EAAG4D,GAAK,EAAGA,IACtCwC,eAAeI,SAAS5C,GAC3B3D,QAGMsC,iBAAiB,aAAc3C,IAAI6F,UAAU7F,IAGhD6F,UAAS,GCrGbgB,QAAQC,IAAI","file":"script.js","sourcesContent":["\"use strict\";\n\n/**\n * Create App object\n *\n */\n\nvar App = {};\n'use strict';\n\n/* Compatible avec tous les navigateurs */\n(function () {\n    var lastTime = 0;\n    var vendors = ['webkit', 'moz'];\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame) window.requestAnimationFrame = function (callback, element) {\n        var currTime = new Date().getTime();\n        var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n        var id = window.setTimeout(function () {\n            callback(currTime + timeToCall);\n        }, timeToCall);\n        lastTime = currTime + timeToCall;\n        return id;\n    };\n\n    if (!window.cancelAnimationFrame) window.cancelAnimationFrame = function (id) {\n        clearTimeout(id);\n    };\n})();\n\"use strict\";\n\nvar $ = document.querySelector.bind(document),\n    $$ = document.querySelectorAll.bind(document);\n'use strict';\n\nwindow.EPISODE_SELECTION = {\n    lastMove: 0,\n    leftOffset: window.screen.width / 2 - 100,\n    rightOffset: 0,\n    screenScale: 100 - 100 / 1.75,\n    selectCards: $('.select .cards')\n};\n\nwindow.EPISODE_SELECTION.percentDivisor = window.screen.width - window.EPISODE_SELECTION.rightOffset - window.EPISODE_SELECTION.leftOffset;\n\nwindow.TOGGLE_SELECTION_LISTENER = function (event) {\n    var now = new Date().getTime();\n    if (window.EPISODE_SELECTION.lastMove < now - 20) {\n\n        window.EPISODE_SELECTION.lastMove = now;\n        var percent = (event.screenX - window.EPISODE_SELECTION.leftOffset) / window.EPISODE_SELECTION.percentDivisor;\n\n        if (percent < 0) {\n            percent = 0;\n        } else if (percent > 1) {\n            percent = 1;\n        }\n\n        window.EPISODE_SELECTION.selectCards.style.transform = 'translateZ(0) translateX(-' + percent * window.EPISODE_SELECTION.screenScale + '%)';\n    }\n};\n\nApp.toggleSelection = function (state) {\n    if (state) {\n        document.addEventListener('mousemove', window.TOGGLE_SELECTION_LISTENER);\n    } else {\n        document.removeEventListener('mousemove', window.TOGGLE_SELECTION_LISTENER);\n    }\n};\n'use strict';\n\nwindow.GLOBAL_SPEED = 0.1;\nwindow.HYPERSPACE = true;\n\n(function (canvas) {\n\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n\n    if (canvas.getContext) {\n        var context = canvas.getContext('2d'),\n            width = canvas.width,\n            height = canvas.height,\n            starsCount = 100,\n            centerRadius = 100,\n            length = 10,\n            stars = [];\n\n        var createStar = function createStar() {\n            var randomX = Math.random(),\n                randomY = Math.random(),\n                color = ~ ~(Math.random() * 80 + 20);\n\n            return {\n                x: randomX * width,\n                y: randomY * height,\n                xs: (randomX * width - width / 2) / 500,\n                ys: (randomY * height - height / 2) / 500,\n                size: ~ ~(color / 20),\n                length: Math.random() * length,\n                color: 'rgb(' + color + ', ' + color + ', ' + ~ ~(color + Math.random() * 20) + ')'\n            };\n        };\n\n        for (var i = 0; i < starsCount; i++) {\n            stars.push(createStar());\n        }\n\n        (function loop() {\n            if (window.HYPERSPACE) {\n\n                window.requestAnimationFrame(loop);\n                context.clearRect(0, 0, width, height);\n\n                for (var i = 0; i < starsCount; i++) {\n                    var s = stars[i];\n                    if (s.x < 0 || s.y < 0 || s.x > width || s.y > height) {\n                        s = stars[i] = createStar();\n                    }\n                    context.strokeStyle = s.color;\n                    context.lineWidth = s.size;\n                    context.shadowBlur = 5;\n                    context.lineCap = 'round';\n                    context.shadowColor = \"#555\";\n                    context.beginPath();\n                    context.moveTo(s.x, s.y);\n                    context.lineTo(s.x + 0.1 + s.length * s.xs * window.GLOBAL_SPEED, s.y + s.length * s.ys * window.GLOBAL_SPEED);\n                    context.stroke();\n                    s.x += s.xs * window.GLOBAL_SPEED;\n                    s.y += s.ys * window.GLOBAL_SPEED;\n                }\n            }\n        })();\n    }\n})($('.hyperspace'));\n'use strict';\n\n/**\n * Navigation between pages\n *\n */\n\nApp.goto = function (identifier, gotoUp) {\n    var current = $('section.visible'),\n        next = $('.page.' + identifier),\n        direction = gotoUp ? 'up' : 'down';\n\n    if (!next || typeof gotoUp !== 'boolean') {\n        throw new Error('Wrong arguments: ' + next + ', ' + gotoUp);\n    } else if (current == next) {\n        throw new Error('Moving to the same page..');\n    } else {\n        App.toggleSelection(identifier === 'select');\n        if (current) {\n            current.classList.remove('visible');\n            current.classList.add('exit-' + direction);\n            current.addEventListener('animationend', function animationend(e) {\n                current.removeEventListener('animationend', animationend);\n                current.classList.remove('exit-' + direction);\n            });\n        }\n        next.classList.add('visible');\n        next.classList.add('enter-' + direction);\n        next.addEventListener('animationend', function animationend(e) {\n            next.removeEventListener('animationend', animationend);\n            next.classList.remove('enter-' + direction);\n            App.setLocation(identifier);\n        });\n    }\n};\n\nApp.home = function () {\n    // Rerun the page to restart the canvas\n    window.location.href = window.location.href;\n};\n\nApp.gotoHash = function (homeFallback) {\n    if (window.location.hash && window.location.hash.length > 2) {\n        var page = $('.page.' + window.location.hash.substring(2));\n        if (page && page.classList.contains('page')) {\n            var current = $('section.visible');\n            if (current) current.classList.remove('visible');\n            page.classList.add('visible');\n            App.toggleSelection(page.classList.contains('select'));\n            window.HYPERSPACE = false;\n            return;\n        }\n    }\n    if (homeFallback) {\n        App.home();\n    }\n};\n\nApp.setLocation = function (hash) {\n    window.location.hash = '#/' + hash;\n};\n\n// Bind begin button to hyperspace animation\n$('.begin').addEventListener('click', function (e) {\n    TOGGLE_SELECTION_LISTENER(e);\n    var interval = setInterval(function () {\n        window.GLOBAL_SPEED = (window.GLOBAL_SPEED + 0.1) * 1.3;\n        if (window.GLOBAL_SPEED > 70) {\n            clearInterval(interval);\n        }\n    }, 100);\n    var home = $('.page.home'),\n        select = $('.page.select');\n    select.addEventListener('animationend', function begin(e) {\n        select.removeEventListener('animationend', begin);\n        window.HYPERSPACE = false;\n        home.classList.remove('visible');\n        home.classList.remove('exit-hyperspace');\n        select.classList.add('visible');\n        select.classList.remove('enter-hyperspace');\n        App.setLocation('select');\n    });\n    home.classList.add('exit-hyperspace');\n    select.classList.add('enter-hyperspace');\n    App.toggleSelection(true);\n});\n\n// Bind navigation elements to animations\nvar bindNavigation = function bindNavigation(element) {\n    element.addEventListener('click', function (e) {\n        App.goto(this.getAttribute('data-target'), this.getAttribute('data-direction') === 'up');\n        e.preventDefault();\n    });\n};\n\nvar elements = $$('.navigation');\nfor (var i = elements.length - 1; i >= 0; i--) {\n    bindNavigation(elements[i]);\n}\n\n// Change page if hash change\nwindow.addEventListener('hashchange', App.gotoHash);\n\n// If a hash is already set\nApp.gotoHash(false);\n'use strict';\n\nconsole.log('Libs and App loaded !');","/**\n * Create App object\n *\n */\n\nvar App = {};\n","/* Compatible avec tous les navigateurs */\n(function() {\n    var lastTime = 0;\n    var vendors = ['webkit', 'moz'];\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n        window.cancelAnimationFrame =\n          window[vendors[x]+'CancelAnimationFrame'] || window[vendors[x]+'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame)\n        window.requestAnimationFrame = function(callback, element) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = window.setTimeout(function() { callback(currTime + timeToCall); },\n              timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n\n    if (!window.cancelAnimationFrame)\n        window.cancelAnimationFrame = function(id) {\n            clearTimeout(id);\n        };\n}());\n","\nvar $ = document.querySelector.bind(document),\n    $$ = document.querySelectorAll.bind(document);\n","\nwindow.EPISODE_SELECTION = {\n    lastMove: 0,\n    leftOffset: window.screen.width / 2 - 100,\n    rightOffset: 0,\n    screenScale: (100 - 100 / 1.75),\n    selectCards: $('.select .cards')\n};\n\nwindow.EPISODE_SELECTION.percentDivisor = window.screen.width - window.EPISODE_SELECTION.rightOffset - window.EPISODE_SELECTION.leftOffset;\n\nwindow.TOGGLE_SELECTION_LISTENER = function(event) {\n    var now = new Date().getTime();\n    if (window.EPISODE_SELECTION.lastMove < now - 20) {\n\n        window.EPISODE_SELECTION.lastMove = now;\n        var percent = (event.screenX - window.EPISODE_SELECTION.leftOffset) / window.EPISODE_SELECTION.percentDivisor;\n        \n        if (percent < 0) {\n            percent = 0;\n        } else if (percent > 1) {\n            percent = 1;\n        }\n\n        window.EPISODE_SELECTION.selectCards.style.transform = 'translateZ(0) translateX(-' + percent * window.EPISODE_SELECTION.screenScale + '%)';\n    }\n};\n\nApp.toggleSelection = function(state) {\n    if (state) {\n        document.addEventListener('mousemove', window.TOGGLE_SELECTION_LISTENER);\n    } else {\n        document.removeEventListener('mousemove', window.TOGGLE_SELECTION_LISTENER);\n    }\n};\n","\nwindow.GLOBAL_SPEED = 0.1;\nwindow.HYPERSPACE = true;\n\n(function (canvas) {\n\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n\n    if (canvas.getContext) {\n        var context = canvas.getContext('2d'),\n            width = canvas.width,\n            height = canvas.height,\n            starsCount = 100,\n            centerRadius = 100,\n            length = 10,\n            stars = [];\n\n        var createStar = function () {\n            var randomX = Math.random(),\n                randomY = Math.random(),\n                color = ~~(Math.random() * 80 + 20);\n\n            return {\n                x: randomX * width,\n                y: randomY * height,\n                xs: (randomX * width - width/2) / 500,\n                ys: (randomY * height - height/2) / 500,\n                size: ~~(color / 20),\n                length: Math.random() * length,\n                color: 'rgb(' + color + ', ' + color + ', ' + ~~(color + Math.random() * 20) + ')'\n            };\n        };\n\n        for (var i = 0; i < starsCount; i++) {\n            stars.push(createStar());\n        }\n\n        (function loop() {\n            if (window.HYPERSPACE) {\n\n                window.requestAnimationFrame(loop);\n                context.clearRect(0, 0, width, height);\n\n                for (var i = 0; i < starsCount; i++) {\n                    var s = stars[i];\n                    if (s.x < 0 || s.y < 0 || s.x > width || s.y > height) {\n                        s = stars[i] = createStar();\n                    }\n                    context.strokeStyle = s.color;\n                    context.lineWidth = s.size;\n                    context.shadowBlur = 5;\n                    context.lineCap = 'round';\n                    context.shadowColor = \"#555\";\n                    context.beginPath();\n                    context.moveTo(s.x, s.y);\n                    context.lineTo(s.x + 0.1 + s.length * s.xs * window.GLOBAL_SPEED, s.y + s.length * s.ys * window.GLOBAL_SPEED);\n                    context.stroke();\n                    s.x += s.xs * window.GLOBAL_SPEED;\n                    s.y += s.ys * window.GLOBAL_SPEED;\n                }\n            }\n        })();\n    }\n\n})($('.hyperspace'));\n","/**\n * Navigation between pages\n *\n */\n\nApp.goto = function (identifier, gotoUp) {\n    var current = $('section.visible'),\n        next = $('.page.' + identifier),\n        direction = gotoUp ? 'up' : 'down';\n\n    if (!next || typeof gotoUp !== 'boolean') {\n        throw new Error('Wrong arguments: ' + next + ', ' + gotoUp);\n    } else if (current == next) {\n        throw new Error('Moving to the same page..');\n    } else {\n        App.toggleSelection(identifier === 'select');\n        if (current) {\n            current.classList.remove('visible');\n            current.classList.add('exit-' + direction);\n            current.addEventListener('animationend', function animationend(e) {\n                current.removeEventListener('animationend', animationend);\n                current.classList.remove('exit-' + direction);\n            });\n        }\n        next.classList.add('visible');\n        next.classList.add('enter-' + direction);\n        next.addEventListener('animationend', function animationend(e) {\n            next.removeEventListener('animationend', animationend);\n            next.classList.remove('enter-' + direction);\n            App.setLocation(identifier);\n        });\n    }\n};\n\nApp.home = function () {\n    // Rerun the page to restart the canvas\n    window.location.href = window.location.href;\n};\n\nApp.gotoHash = function (homeFallback) {\n    if (window.location.hash && window.location.hash.length > 2) {\n        var page = $('.page.' + window.location.hash.substring(2));\n        if (page && page.classList.contains('page')) {\n            var current = $('section.visible');\n            if (current) current.classList.remove('visible');\n            page.classList.add('visible');\n            App.toggleSelection(page.classList.contains('select'));\n            window.HYPERSPACE = false;\n            return;\n        }\n    }\n    if (homeFallback) {\n        App.home();\n    }\n};\n\nApp.setLocation = function (hash) {\n    window.location.hash = '#/' + hash;\n};\n\n// Bind begin button to hyperspace animation\n$('.begin').addEventListener('click', function (e) {\n    TOGGLE_SELECTION_LISTENER(e);\n    var interval = setInterval(function () {\n        window.GLOBAL_SPEED = (window.GLOBAL_SPEED + 0.1) * 1.3;\n        if (window.GLOBAL_SPEED > 70) {\n            clearInterval(interval);\n        }\n    }, 100);\n    var home = $('.page.home'),\n        select = $('.page.select');\n    select.addEventListener('animationend', function begin(e) { \n        select.removeEventListener('animationend', begin);\n        window.HYPERSPACE = false;\n        home.classList.remove('visible');\n        home.classList.remove('exit-hyperspace');\n        select.classList.add('visible');\n        select.classList.remove('enter-hyperspace');\n        App.setLocation('select');\n    });\n    home.classList.add('exit-hyperspace');\n    select.classList.add('enter-hyperspace');\n    App.toggleSelection(true);\n});\n\n// Bind navigation elements to animations\nvar bindNavigation = function (element) {\n    element.addEventListener('click', function (e) {\n        App.goto(this.getAttribute('data-target'), this.getAttribute('data-direction') === 'up');\n        e.preventDefault();\n    });\n};\n\nvar elements = $$('.navigation');\nfor (var i = elements.length - 1; i >= 0; i--) {\n    bindNavigation(elements[i]);\n}\n\n// Change page if hash change\nwindow.addEventListener('hashchange', App.gotoHash);\n\n// If a hash is already set\nApp.gotoHash(false);\n\n","\nconsole.log('Libs and App loaded !');\n"],"sourceRoot":"/source/"}