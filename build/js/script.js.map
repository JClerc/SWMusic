{"version":3,"sources":["script.js","app.js","canvas.polyfill.js","selector.js","hyperspace.js","navigation.js","main.js"],"names":["App","lastTime","vendors","x","length","window","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","$","document","querySelector","bind","$$","querySelectorAll","GLOBAL_SPEED","HYPERSPACE","canvas","width","innerWidth","height","innerHeight","getContext","ctx","w","h","starsCount","stars","lineCap","createStar","atCenter","randomX","randomY","random","y","color","xs","ys","size","i","push","loop","clearRect","s","strokeStyle","lineWidth","shadowBlur","shadowColor","beginPath","moveTo","lineTo","stroke","identifier","gotoUp","current","next","direction","Error","classList","remove","add","addEventListener","e","setHashLocation","hash","location","interval","setInterval","clearInterval","bindNavigation","this","getAttribute","elements","substring","page","contains","console","log"],"mappings":"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","file":"script.js","sourcesContent":["\"use strict\";\n\n/**\n * Create App object\n *\n */\n\nvar App = {};\n'use strict';\n\n/* Compatible avec tous les navigateurs */\n(function () {\n    var lastTime = 0;\n    var vendors = ['webkit', 'moz'];\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame) window.requestAnimationFrame = function (callback, element) {\n        var currTime = new Date().getTime();\n        var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n        var id = window.setTimeout(function () {\n            callback(currTime + timeToCall);\n        }, timeToCall);\n        lastTime = currTime + timeToCall;\n        return id;\n    };\n\n    if (!window.cancelAnimationFrame) window.cancelAnimationFrame = function (id) {\n        clearTimeout(id);\n    };\n})();\n\"use strict\";\n\nvar $ = document.querySelector.bind(document),\n    $$ = document.querySelectorAll.bind(document);\n// const episodeMove = () => {\n//     document.onmousemove = handleMouseMove;\n//     if ($('.select').classList.contains('visible')) {\n//         document.onmousemove = handleMouseMove;\n//\n//          handleMouseMove = (event) => {\n//             var dot, eventDoc, doc, body, pageX, pageY;\n//\n//             event = event || window.event; // IE-ism\n//\n//             // If pageX/Y aren't available and clientX/Y are,\n//             // calculate pageX/Y - logic taken from jQuery.\n//             // (This is to support old IE)\n//             if (event.pageX == null && event.clientX != null) {\n//                 eventDoc = (event.target && event.target.ownerDocument) || document;\n//                 doc = eventDoc.documentElement;\n//                 body = eventDoc.body;\n//\n//                 event.pageX = event.clientX +\n//                     (doc && doc.scrollLeft || body && body.scrollLeft || 0) -\n//                     (doc && doc.clientLeft || body && body.clientLeft || 0);\n//                 event.pageY = event.clientY +\n//                     (doc && doc.scrollTop || body && body.scrollTop || 0) -\n//                     (doc && doc.clientTop || body && body.clientTop || 0);\n//             }\n//             console.log(event.pageX);\n//             // Use event.pageX / event.pageY here\n//         }\n//\n//     }\n// }\n\"use strict\";\n'use strict';\n\nwindow.GLOBAL_SPEED = 0.1;\nwindow.HYPERSPACE = true;\n\n(function (canvas) {\n\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n\n    if (canvas.getContext) {\n        var ctx = canvas.getContext('2d'),\n            w = canvas.width,\n            h = canvas.height,\n            starsCount = 100,\n            GLOBAL_SPEED = 0.1,\n            length = 10,\n            stars = [];\n\n        ctx.lineCap = 'round';\n\n        var createStar = function createStar(atCenter) {\n            var randomX, randomY;\n\n            if (atCenter) {\n                randomX = Math.random() * 100 - 100 / 2;\n                randomY = Math.random() * 100 - 100 / 2;\n            } else {\n                randomX = Math.random() * w;\n                randomY = Math.random() * h;\n            }\n\n            var x = atCenter ? w / 2 : 0 + randomX,\n                y = atCenter ? h / 2 : 0 + randomY,\n                color = ~ ~(Math.random() * 80 + 20);\n\n            return {\n                x: x,\n                y: y,\n                xs: (randomX - w / 2) / 500,\n                ys: (randomY - h / 2) / 500,\n                size: ~ ~(color / 20),\n                length: Math.random() * length,\n                color: 'rgb(' + color + ', ' + color + ', ' + ~ ~(color + Math.random() * 20) + ')'\n            };\n        };\n\n        for (var i = 0; i < starsCount; i++) {\n            stars.push(createStar(false));\n        }\n\n        (function loop() {\n            if (window.HYPERSPACE) {\n                window.requestAnimationFrame(loop);\n            }\n\n            ctx.clearRect(0, 0, w, h);\n\n            for (var i = 0; i < starsCount; i++) {\n                var s = stars[i];\n                if (s.x < 0 || s.y < 0 || s.x > w || s.y > h) {\n                    s = stars[i] = createStar(false);\n                }\n                ctx.strokeStyle = s.color;\n                ctx.lineWidth = s.size;\n                ctx.shadowBlur = 5;\n                ctx.shadowColor = \"#555\";\n                ctx.beginPath();\n                ctx.moveTo(s.x, s.y);\n                ctx.lineTo(s.x + 0.1 + s.length * s.xs * window.GLOBAL_SPEED, s.y + s.length * s.ys * window.GLOBAL_SPEED);\n                ctx.stroke();\n                s.x += s.xs * window.GLOBAL_SPEED;\n                s.y += s.ys * window.GLOBAL_SPEED;\n            }\n        })();\n    }\n})($('.hyperspace'));\n'use strict';\n\n/**\n * Navigation between pages\n *\n */\n\nApp.goto = function (identifier, gotoUp) {\n    var current = $('section.visible'),\n        next = $('.' + identifier),\n        direction = gotoUp ? 'up' : 'down';\n\n    if (!next || typeof gotoUp !== 'boolean') {\n        throw new Error('Wrong arguments: ' + next + ', ' + gotoUp);\n    } else if (current == next) {\n        throw new Error('Moving to the same page..');\n    } else {\n        if (current) {\n            current.classList.remove('visible');\n            current.classList.add('exit-' + direction);\n            current.addEventListener('animationend', function (e) {\n                current.classList.remove('exit-' + direction);\n            });\n        }\n        next.classList.add('visible');\n        next.classList.add('enter-' + direction);\n        next.addEventListener('animationend', function (e) {\n            next.classList.remove('enter-' + direction);\n            App.setHashLocation(identifier);\n        });\n    }\n};\n\nApp.setHashLocation = function (hash) {\n    window.location.hash = '#/' + hash;\n};\n\n$('.begin').addEventListener('click', function (e) {\n    var interval = setInterval(function () {\n        window.GLOBAL_SPEED = (window.GLOBAL_SPEED + 0.1) * 1.3;\n        if (window.GLOBAL_SPEED > 70) {\n            clearInterval(interval);\n        }\n    }, 100);\n    setTimeout(function () {\n        $('.home').classList.add('exit-hyperspace');\n        $('.select').classList.add('enter-hyperspace');\n    }, 2000);\n    setTimeout(function () {\n        window.HYPERSPACE = false;\n        $('.home').classList.remove('visible');\n        $('.select').classList.add('visible');\n        App.setHashLocation('select');\n    }, 3000);\n});\n\nvar bindNavigation = function bindNavigation(element) {\n    element.addEventListener('click', function (e) {\n        App.goto(this.getAttribute('data-target'), this.getAttribute('data-direction') === 'up');\n    });\n};\n\nvar elements = $$('.navigation');\nfor (var i = elements.length - 1; i >= 0; i--) {\n    bindNavigation(elements[i]);\n}\n\nif (window.location.hash) {\n    var hash = '.' + window.location.hash.substring(2),\n        page = $(hash);\n    if (page && page.classList.contains('page')) {\n        var current = $('section.visible');\n        if (current) current.classList.remove('visible');\n        page.classList.add('visible');\n    }\n}\n'use strict';\n\nconsole.log('Libs and App loaded !');","/**\n * Create App object\n *\n */\n\nvar App = {};\n","/* Compatible avec tous les navigateurs */\n(function() {\n    var lastTime = 0;\n    var vendors = ['webkit', 'moz'];\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n        window.cancelAnimationFrame =\n          window[vendors[x]+'CancelAnimationFrame'] || window[vendors[x]+'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame)\n        window.requestAnimationFrame = function(callback, element) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = window.setTimeout(function() { callback(currTime + timeToCall); },\n              timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n\n    if (!window.cancelAnimationFrame)\n        window.cancelAnimationFrame = function(id) {\n            clearTimeout(id);\n        };\n}());\n","\nvar $ = document.querySelector.bind(document),\n    $$ = document.querySelectorAll.bind(document);\n","\nwindow.GLOBAL_SPEED = 0.1;\nwindow.HYPERSPACE = true;\n\n(function (canvas) {\n\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n\n    if (canvas.getContext) {\n        var ctx = canvas.getContext('2d'),\n            w = canvas.width,\n            h = canvas.height,\n            starsCount = 100,\n            GLOBAL_SPEED = 0.1,\n            length = 10,\n            stars = [];\n\n        ctx.lineCap = 'round';\n\n        var createStar = function (atCenter) {\n            var randomX, randomY;\n\n            if (atCenter) {\n                randomX = Math.random() * 100 - 100 / 2;\n                randomY = Math.random() * 100 - 100 / 2;\n            } else {\n                randomX = Math.random() * w;\n                randomY = Math.random() * h;\n            }\n\n            var x = atCenter ? w/2 : 0 + randomX,\n                y = atCenter ? h/2 : 0 + randomY,\n                color = ~~(Math.random() * 80 + 20);\n\n            return {\n                x: x,\n                y: y,\n                xs: (randomX - w/2) / 500,\n                ys: (randomY - h/2) / 500,\n                size: ~~(color / 20),\n                length: Math.random() * length,\n                color: 'rgb(' + color + ', ' + color + ', ' + ~~(color + Math.random() * 20) + ')'\n            };\n        };\n\n        for (var i = 0; i < starsCount; i++) {\n            stars.push(createStar(false));\n        }\n\n        (function loop() {\n            if (window.HYPERSPACE) {    \n                window.requestAnimationFrame(loop);\n            }\n\n            ctx.clearRect(0, 0, w, h);\n\n            for (var i = 0; i < starsCount; i++) {\n                var s = stars[i];\n                if (s.x < 0 || s.y < 0 || s.x > w || s.y > h) {\n                    s = stars[i] = createStar(false);\n                }\n                ctx.strokeStyle = s.color;\n                ctx.lineWidth = s.size;\n                ctx.shadowBlur = 5;\n                ctx.shadowColor = \"#555\";\n                ctx.beginPath();\n                ctx.moveTo(s.x, s.y);\n                ctx.lineTo(s.x + 0.1 + s.length * s.xs * window.GLOBAL_SPEED, s.y + s.length * s.ys * window.GLOBAL_SPEED);\n                ctx.stroke();\n                s.x += s.xs * window.GLOBAL_SPEED;\n                s.y += s.ys * window.GLOBAL_SPEED;\n            }\n\n        })();\n    }\n\n})($('.hyperspace'));\n","/**\n * Navigation between pages\n *\n */\n\nApp.goto = function (identifier, gotoUp) {\n    var current = $('section.visible'),\n        next = $('.' + identifier),\n        direction = gotoUp ? 'up' : 'down';\n\n    if (!next || typeof gotoUp !== 'boolean') {\n        throw new Error('Wrong arguments: ' + next + ', ' + gotoUp);\n    } else if (current == next) {\n        throw new Error('Moving to the same page..');\n    } else {\n        if (current) {\n            current.classList.remove('visible');\n            current.classList.add('exit-' + direction);\n            current.addEventListener('animationend', function (e) {\n                current.classList.remove('exit-' + direction);\n            });\n        }\n        next.classList.add('visible');\n        next.classList.add('enter-' + direction);\n        next.addEventListener('animationend', function (e) {\n            next.classList.remove('enter-' + direction);\n            App.setHashLocation(identifier);\n        });\n    }\n};\n\nApp.setHashLocation = function (hash) {\n    window.location.hash = '#/' + hash;\n};\n\n$('.begin').addEventListener('click', function (e) {\n    var interval = setInterval(function () {\n        window.GLOBAL_SPEED = (window.GLOBAL_SPEED + 0.1) * 1.3;\n        if (window.GLOBAL_SPEED > 70) {\n            clearInterval(interval);\n        }\n    }, 100);\n    setTimeout(function () {\n        $('.home').classList.add('exit-hyperspace');\n        $('.select').classList.add('enter-hyperspace');\n    }, 2000);\n    setTimeout(function () {\n        window.HYPERSPACE = false;\n        $('.home').classList.remove('visible');\n        $('.select').classList.add('visible');\n        App.setHashLocation('select');\n    }, 3000);\n});\n\nvar bindNavigation = function (element) {\n    element.addEventListener('click', function (e) {\n        App.goto(this.getAttribute('data-target'), this.getAttribute('data-direction') === 'up');\n    });\n};\n\nvar elements = $$('.navigation');\nfor (var i = elements.length - 1; i >= 0; i--) {\n    bindNavigation(elements[i]);\n}\n\nif (window.location.hash) {\n    var hash = '.' + window.location.hash.substring(2),\n        page = $(hash);\n    if (page && page.classList.contains('page')) {\n        var current = $('section.visible');\n        if (current) current.classList.remove('visible');\n        page.classList.add('visible');\n    }\n}\n\n","\nconsole.log('Libs and App loaded !');\n"],"sourceRoot":"/source/"}